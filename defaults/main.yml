---

telegraf_install_user: root

# Write config
telegraf_group: root
telegraf_user: root
telegraf_config_dir: "/etc/telegraf"
telegraf_config_file: "telegraf.conf"

# Below this line, you will find all configurable variable for the config_file

telegraf__conf__global_tags:

# [agent]

telegraf__conf__agent__interval: "10s"
telegraf__conf__agent__round_interval: true
telegraf__conf__agent__metric_batch_size: 1000
telegraf__conf__agent__metric_buffer_limit:  10000
telegraf__conf__agent__collection_jitter: "0s"
telegraf__conf__agent__flush_interval: "10s"
telegraf__conf__agent__flush_jitter: "0s"
telegraf__conf__agent__debug: false
telegraf__conf__agent__quiet: false
telegraf__conf__agent__hostname: ""
telegraf__conf__agent__omit_hostname: false

telegraf__conf__plugins:
  - type: outputs
    name: influxdb
    parameters:
      urls:
        - "http://localhost:8086"
      database: "telegraf"
      precision: "s"
      retention_policy: "default"
      write_consistency: "any"
      timeout: "5s"
  - name: cpu
    parameters:
      percpu: true
      totalcpu: true
      fielddrop:
        - "time_*"
  - name: disk
    parameters:
      ignore_fs:
        - "tmpfs"
        - "devtmpfs"
  - name: diskio
  - name: kernel
  - name: mem
  - name: processes
  - name: swap
  - name: system

telegraf__conf__plugins__extra:
  - name: system
  - name: swap
  - name: cpu
    parameters:
      percpu: true
      totalcpu: true
      fielddrop:
        - "time_*"
  - name: cloudwatch
    enabled: false
    parameters:
      region: 'us-east-1'
      period: "1m"
      delay: "1m"
      interval: "1m"
      namespace: "AWS/ELB"
    sections:
      - name: cloudwatch.metrics
        enabled: true
        parameters:
          names:
            - 'Latency'
            - 'RequestCount'
        sections:
          - name: cloudwatch.metrics.dimensions
            enabled: false
            parameters:
              name: 'LoadBalancerName'
              value: 'p-example'
          - name: cloudwatch.metrics.dimensions
            parameters:
              name: 'AvailabilityZone'
              value: '*'
